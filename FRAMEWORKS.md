# Framework Support

playcheck works with **any Android project**, regardless of the development framework used. This document explains how playcheck scans different types of Android applications.

## How playcheck Works

playcheck performs static analysis on Android projects by:

1. **AndroidManifest.xml validation** - All Android apps require a manifest file
2. **Source code scanning** - Pattern-based detection in Kotlin/Java files
3. **Build configuration analysis** - Checking SDK versions and permissions
4. **Data safety compliance** - Privacy policy detection, permission disclosure checks

These scanning techniques work across all Android frameworks because they analyze the **compiled Android structure** rather than framework-specific code.

## Supported Frameworks

### ✅ Native Android (Kotlin/Java)

**Full support** - playcheck is optimized for native Android development.

```bash
playcheck scan /path/to/native-android-project
```

**What gets scanned:**
- `AndroidManifest.xml`
- Kotlin files (`.kt`)
- Java files (`.java`)
- `build.gradle` / `build.gradle.kts`

**Example project structure:**
```
app/
├── src/main/
│   ├── AndroidManifest.xml
│   ├── java/com/example/
│   └── res/
└── build.gradle
```

---

### ✅ Flutter

**Full support** - Flutter apps compile to native Android.

```bash
playcheck scan /path/to/flutter-project/android
```

**What gets scanned:**
- `android/app/src/main/AndroidManifest.xml`
- `android/app/build.gradle`
- Kotlin/Java code in `android/app/src/main/`
- Platform-specific Android code

**Note:** Dart code is NOT scanned (only Android-specific compliance issues are detected).

**Example:**
```
my-flutter-app/
├── lib/                    # Dart code (not scanned)
├── android/               # Scan this directory
│   ├── app/
│   │   ├── src/main/AndroidManifest.xml
│   │   └── build.gradle
│   └── build.gradle
```

**Run from Flutter project root:**
```bash
# Scan the android/ subdirectory
playcheck scan ./android
```

---

### ✅ React Native

**Full support** - React Native uses standard Android project structure.

```bash
playcheck scan /path/to/react-native-project/android
```

**What gets scanned:**
- `android/app/src/main/AndroidManifest.xml`
- `android/app/build.gradle`
- Native module code (Kotlin/Java)

**Note:** JavaScript/TypeScript code is NOT scanned (only Android-specific compliance).

**Example:**
```
my-rn-app/
├── src/                   # JS/TS code (not scanned)
├── android/              # Scan this directory
│   ├── app/
│   │   ├── src/main/AndroidManifest.xml
│   │   └── build.gradle
│   └── settings.gradle
```

---

### ✅ Xamarin / .NET MAUI

**Partial support** - AndroidManifest validation works, code scanning has limitations.

```bash
playcheck scan /path/to/xamarin-project/Platforms/Android
```

**What gets scanned:**
- `AndroidManifest.xml`
- SDK version requirements
- Permission declarations

**Limitations:**
- C# code is NOT scanned
- Only manifest-level compliance checks are performed

---

### ✅ Cordova / Ionic

**Full support** - Cordova apps compile to standard Android.

```bash
playcheck scan /path/to/cordova-project/platforms/android
```

**What gets scanned:**
- `platforms/android/app/src/main/AndroidManifest.xml`
- Plugin-generated Kotlin/Java code
- Build configuration

**Note:** HTML/CSS/JavaScript is NOT scanned.

---

### ✅ Unity

**Partial support** - Manifest validation works.

```bash
playcheck scan /path/to/unity-project/Temp/gradleOut
```

**What gets scanned:**
- `AndroidManifest.xml` (generated by Unity build)
- Target SDK version
- Permission declarations

**Limitations:**
- Unity C# code is NOT scanned
- Best used after Unity build to analyze the generated Android project

---

### ✅ NativeScript

**Full support** - NativeScript uses standard Android structure.

```bash
playcheck scan /path/to/nativescript-project/platforms/android
```

**What gets scanned:**
- `platforms/android/app/src/main/AndroidManifest.xml`
- Native plugins (Kotlin/Java)
- Build configuration

---

## Framework-Specific Guidance

### Flutter Developers

1. **Run playcheck on the `android/` directory:**
   ```bash
   cd my-flutter-app
   playcheck scan ./android
   ```

2. **Common Flutter issues detected:**
   - Missing targetSdkVersion updates
   - Camera/Location permissions without proper disclosure
   - Firebase Analytics without Data Safety disclosure
   - Missing Privacy Policy URL

3. **Flutter-specific permissions:**
   - Camera plugin → Detects CAMERA permission
   - Location plugin → Detects location permissions
   - Google Sign-In → Detects account creation patterns

### React Native Developers

1. **Scan from project root:**
   ```bash
   playcheck scan ./android
   ```

2. **Common React Native issues:**
   - Cleartext traffic enabled (for Metro bundler)
   - Debuggable builds in release
   - Missing android:exported on deep link activities

3. **React Native libraries:**
   - playcheck detects third-party SDKs (Facebook SDK, Analytics, etc.)
   - Permission usage from native modules is validated

### Cordova / Ionic Developers

1. **Build first, then scan:**
   ```bash
   cordova build android
   playcheck scan ./platforms/android
   ```

2. **Plugin compliance:**
   - Camera plugin permissions are validated
   - Geolocation permissions are checked
   - AdMob plugin usage is detected

## What playcheck Does NOT Scan

| Framework | What's NOT scanned |
|-----------|-------------------|
| Flutter | Dart code (`.dart` files) |
| React Native | JavaScript/TypeScript (`.js`, `.ts`, `.jsx`, `.tsx`) |
| Xamarin | C# code (`.cs` files) |
| Cordova/Ionic | HTML/CSS/JavaScript |
| Unity | C# scripts |
| NativeScript | TypeScript/JavaScript |

**Why?** playcheck focuses on **Google Play Store compliance at the Android platform level**. Framework-specific code doesn't interact directly with Android permissions or manifest declarations that trigger Play Store policy violations.

## Best Practices

### 1. Scan the Android directory

Always point playcheck to the Android-specific directory:

```bash
# ✅ Correct
playcheck scan ./android

# ❌ Incorrect (will miss Android files)
playcheck scan .
```

### 2. Scan after build (for generated manifests)

Some frameworks generate `AndroidManifest.xml` during build:

```bash
# Flutter
flutter build apk --debug
playcheck scan ./android

# Cordova
cordova build android
playcheck scan ./platforms/android
```

### 3. Integrate with CI/CD

Add playcheck to your CI pipeline:

```yaml
# GitHub Actions example
- name: Play Store Compliance Check
  run: |
    go install github.com/kotaroyamazaki/playcheck/cmd/playcheck@latest
    playcheck scan ./android --format json --output report.json

- name: Fail on critical issues
  run: |
    playcheck scan ./android --severity critical
```

### 4. Use JSON output for automation

```bash
playcheck scan ./android --format json --output compliance-report.json
```

Parse the JSON in your build scripts to enforce compliance gates.

## FAQ

### Q: Does playcheck work with Kotlin Multiplatform Mobile (KMM)?

**A:** Yes, for the Android target. Scan the `androidApp/` directory:
```bash
playcheck scan ./androidApp
```

### Q: Can playcheck scan APK files directly?

**A:** Not yet. Currently, playcheck requires source code access. APK scanning is planned for a future release.

### Q: Does playcheck support Gradle Kotlin DSL (`build.gradle.kts`)?

**A:** Yes, both `build.gradle` and `build.gradle.kts` are supported for target SDK version detection.

### Q: My framework generates AndroidManifest.xml dynamically. Will playcheck work?

**A:** Yes, but you must run your framework's build command first to generate the manifest before scanning.

### Q: Does playcheck replace Google Play Console's automated review?

**A:** No. playcheck is a **pre-submission tool** to catch common issues early. Always review Play Console's policy requirements before submission.

---

## Contributing Framework Support

If you encounter issues with a specific framework, please:

1. Open a GitHub issue with your framework name and version
2. Provide a sample project structure
3. Describe what should be scanned vs. what's being missed

We welcome contributions to improve framework support!

---

**Last updated:** 2026-02-16
